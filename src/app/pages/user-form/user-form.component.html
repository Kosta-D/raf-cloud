<div class="user-form">
  <h2>{{ isEditMode ? 'Ажурирај корисника' : 'Додај новог корисника' }}</h2>

  <form (ngSubmit)="saveUser()">
    <label>Име:</label>
    <input type="text" [(ngModel)]="user.firstName" name="firstName" required />

    <label>Презиме:</label>
    <input type="text" [(ngModel)]="user.lastName" name="lastName" required />

    <label>Имејл:</label>
    <input type="email" [(ngModel)]="user.email" name="email" required />

    <label>Лозинка:</label>
    <input type="password" [(ngModel)]="user.password" name="password" required />

    <label>Дозволе:</label>
    <div class="permissions">
      <label *ngFor="let perm of allPermissions">
        <input
          type="checkbox"
          [checked]="user.permissions.includes(perm)"
          (change)="togglePermission(perm)"
        />
        {{ perm }}
      </label>
    </div>

    <div class="buttons">
      <button type="submit" class="save-btn">{{ isEditMode ? 'Сачувај измене' : 'Додај корисника' }}</button>
      <button type="button" class="cancel-btn" (click)="cancel()">Откажи</button>
    </div>
  </form>
</div>
